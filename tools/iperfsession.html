<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The IperfSession &mdash; APETools 2014.09.18 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.2.0/readable/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2014.09.18',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="APETools 2014.09.18 documentation" href="../index.html" />
    <link rel="up" title="Tools" href="index.html" />
    <link rel="next" title="apetools.tools.iperfsession.IperfSession" href="api/apetools.tools.iperfsession.IperfSession.html" />
    <link rel="prev" title="apetools.tools.getipaddress.GetIp.run" href="api/apetools.tools.getipaddress.GetIp.run.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          APETools</a>
        <span class="navbar-text navbar-version pull-left"><b>2014.09.18</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../documentation/user/index.html">User Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation/developer/index.html">Developer Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../baseclass.html">The BaseClass</a></li>
<li class="toctree-l1"><a class="reference internal" href="../log_setter.html">The Log Setter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main.html">The Main Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">APE Readme</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../affectors/index.html">Affectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../builders/index.html">Builders</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/index.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commons/index.html">Commons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connections/index.html">Connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devices/index.html">Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../informants/index.html">Informants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lexicographers/index.html">Lexicographers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/index.html">Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parameters/index.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parsers/index.html">Parsers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pipes/index.html">Pipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proletarians/index.html">Proletarians</a></li>
<li class="toctree-l1"><a class="reference internal" href="../threads/index.html">Threads</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watchers/index.html">Watchers</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">The IperfSession</a><ul>
<li><a class="reference internal" href="#parameters">Parameters</a></li>
<li><a class="reference internal" href="#the-errors">The Errors</a></li>
<li><a class="reference internal" href="#the-iperf-session">The Iperf Session</a></li>
<li><a class="reference internal" href="#the-call">The Call</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="api/apetools.tools.getipaddress.GetIp.run.html" title="Previous Chapter: apetools.tools.getipaddress.GetIp.run"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; apetools.tools.g...</span>
    </a>
  </li>
  <li>
    <a href="api/apetools.tools.iperfsession.IperfSession.html" title="Next Chapter: apetools.tools.iperfsession.IperfSession"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">apetools.tools.i... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/tools/iperfsession.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="the-iperfsession">
<h1>The IperfSession<a class="headerlink" href="#the-iperfsession" title="Permalink to this headline">¶</a></h1>
<p>An adapter to make the tools match the use of multiple nodes. It extracts the correct node and determines if it is acting as the client or server based on the parameters passed in, then calls on the <a class="reference internal" href="iperftest.html#iperf-test"><em>IperfTest</em></a> to run the test.</p>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<p>The <cite>SenderReceiver</cite> parameters are used to bundle two nodes and identify their role.</p>
<p class="plantuml">
<img src="../_images/plantuml-7ecee3be28c1b27d2e02857b5cb6dd88423282e1.png" alt="SenderReceiver -|&gt; collections.namedtuple
SenderReceiver : sender
SenderReceiver : receiver" />
</p>
</div>
<div class="section" id="the-errors">
<h2>The Errors<a class="headerlink" href="#the-errors" title="Permalink to this headline">¶</a></h2>
<p>The <cite>IperfConfigurationError</cite> is raised if an error in the parameters is detected.</p>
<p class="plantuml">
<img src="../_images/plantuml-e5e3771a91ce131d7c109ba26ab8470dc0a24fbb.png" alt="IperfConfigurationError -|&gt; ConfigurationError" />
</p>
</div>
<div class="section" id="the-iperf-session">
<span id="iperf-session"></span><h2>The Iperf Session<a class="headerlink" href="#the-iperf-session" title="Permalink to this headline">¶</a></h2>
<p>The <cite>IperfSession</cite> bundles nodes and the Iperf Test.</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="api/apetools.tools.iperfsession.IperfSession.html#apetools.tools.iperfsession.IperfSession" title="apetools.tools.iperfsession.IperfSession"><tt class="xref py py-obj docutils literal"><span class="pre">IperfSession</span></tt></a>(iperf_test,&nbsp;nodes,&nbsp;tpc[,&nbsp;...])</td>
<td>A bundler of nodes and the iperftest</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="api/apetools.tools.iperfsession.IperfSession.from_node_expression.html#apetools.tools.iperfsession.IperfSession.from_node_expression" title="apetools.tools.iperfsession.IperfSession.from_node_expression"><tt class="xref py py-obj docutils literal"><span class="pre">IperfSession.from_node_expression</span></tt></a></td>
<td>Regular expression to determine if it is an upload.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="api/apetools.tools.iperfsession.IperfSession.to_node_expression.html#apetools.tools.iperfsession.IperfSession.to_node_expression" title="apetools.tools.iperfsession.IperfSession.to_node_expression"><tt class="xref py py-obj docutils literal"><span class="pre">IperfSession.to_node_expression</span></tt></a></td>
<td>Regular expression to determine if it is a download</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">IperfSession.participants</span></tt></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="api/apetools.tools.iperfsession.IperfSession.filename.html#apetools.tools.iperfsession.IperfSession.filename" title="apetools.tools.iperfsession.IperfSession.filename"><tt class="xref py py-obj docutils literal"><span class="pre">IperfSession.filename</span></tt></a>(parameters,&nbsp;...)</td>
<td>Adds extra tags to the filename to make identifying them easier</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="api/apetools.tools.iperfsession.IperfSession.__call__.html#apetools.tools.iperfsession.IperfSession.__call__" title="apetools.tools.iperfsession.IperfSession.__call__"><tt class="xref py py-obj docutils literal"><span class="pre">IperfSession.__call__</span></tt></a>(parameters[,&nbsp;...])</td>
<td>Retrieves the participating node and runs the iperf_test</td>
</tr>
</tbody>
</table>
<p class="plantuml">
<img src="../_images/plantuml-b44364a17f0fb9555c625eb18de2c117b27eb05c.png" alt="BaseClass &lt;|-- IperfSession
IperfSession o- IperfTest
IperfSession : nodes
IperfSession : tpc
IperfSession : filename_base
IperfSession : __call__(parameters, filename_prefix)" />
</p>
<ul class="simple">
<li>See <a class="reference internal" href="iperftest.html#iperf-test"><em>IperfTest</em></a></li>
<li><tt class="docutils literal"><span class="pre">nodes</span></tt> is a dictionary of <cite>id</cite> (key`) to <cite>device</cite> (value) mappings.</li>
<li><tt class="docutils literal"><span class="pre">tpc</span></tt> is a built <cite>device</cite> for the traffic-generating PC</li>
</ul>
</div>
<div class="section" id="the-call">
<h2>The Call<a class="headerlink" href="#the-call" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">__call__</span></tt> takes a namedtuple (<cite>parameters</cite>) and an optional filename-prefix that it will add to the output file (if given):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sender_receiver</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">particpants</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span>
<span class="n">filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="n">filename_prefix</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">poll</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iperf_test</span><span class="p">(</span><span class="n">sender</span><span class="o">=</span><span class="n">sender_receiver</span><span class="o">.</span><span class="n">sender</span><span class="p">,</span>
                            <span class="n">receiver</span><span class="o">=</span><span class="n">sender_receiver</span><span class="o">.</span><span class="n">receiver</span><span class="p">,</span>
                            <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">self.participants</span></tt> gets the <cite>node</cite> and direction from the parameters and returns a <cite>SenderReceiver</cite></li>
<li><tt class="docutils literal"><span class="pre">self.filename</span></tt> creates a string with the suffix <cite>.iperf</cite></li>
<li><tt class="docutils literal"><span class="pre">self.poll</span></tt> is set in case meaningful output is returned and a user of the <cite>IperfSession</cite> wanted to retrieve it later</li>
</ul>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014, russelln.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>