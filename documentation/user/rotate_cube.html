<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Cube Turntable (Rotate Cube) &mdash; APETools 2014.09.18 documentation</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootswatch-3.2.0/readable/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2014.09.18',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="APETools 2014.09.18 documentation" href="../../index.html" />
    <link rel="up" title="The Old Ape’s User Documentation" href="index.html" />
    <link rel="next" title="Sample Configuration" href="sample_configuration.html" />
    <link rel="prev" title="Rotate Configuration" href="rotate.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          APETools</a>
        <span class="navbar-text navbar-version pull-left"><b>2014.09.18</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../baseclass.html">The BaseClass</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../log_setter.html">The Log Setter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../main.html">The Main Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../readme.html">APE Readme</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../affectors/index.html">Affectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../builders/index.html">Builders</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commands/index.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commons/index.html">Commons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../connections/index.html">Connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devices/index.html">Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../informants/index.html">Informants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lexicographers/index.html">Lexicographers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/index.html">Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../parameters/index.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../parsers/index.html">Parsers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pipes/index.html">Pipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../proletarians/index.html">Proletarians</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../threads/index.html">Threads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../watchers/index.html">Watchers</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Cube Turntable (Rotate Cube)</a><ul>
<li><a class="reference internal" href="#the-configuration">The Configuration</a></li>
<li><a class="reference internal" href="#the-table-sections">The Table Sections</a><ul>
<li><a class="reference internal" href="#rotate-arguments">Rotate Arguments</a></li>
<li><a class="reference internal" href="#ssh-information">SSH Information</a></li>
<li><a class="reference internal" href="#angles">Angles</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#complete-example">Complete Example</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="rotate.html" title="Previous Chapter: Rotate Configuration"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Rotate Configura...</span>
    </a>
  </li>
  <li>
    <a href="sample_configuration.html" title="Next Chapter: Sample Configuration"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Sample Configura... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../../_sources/documentation/user/rotate_cube.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="cube-turntable-rotate-cube">
<h1>Cube Turntable (Rotate Cube)<a class="headerlink" href="#cube-turntable-rotate-cube" title="Permalink to this headline">¶</a></h1>
<p>This documents how to use the newer (November, 2014) turntables that have a plexiglass cube encasing the motor in order to raise the devices on the platform and reduce the effects of any electro-magnetic fields that the motor may produce.</p>
<div class="section" id="the-configuration">
<span id="rotate-cube-configuration"></span><h2>The Configuration<a class="headerlink" href="#the-configuration" title="Permalink to this headline">¶</a></h2>
<p>Like the older <a class="reference internal" href="rotate.html#id1"><em>rotate command</em></a> this command is enabled by referring to it in the <tt class="docutils literal"><span class="pre">[TEST]</span></tt> section of the configuration file. It should go in the <cite>setup_test</cite> option:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">TEST</span><span class="p">]</span>
<span class="n">setup_test</span> <span class="o">=</span> <span class="n">rotate_cube</span>
</pre></div>
</div>
<p>This tells the APE to look for a section named <tt class="docutils literal"><span class="pre">ROTATE_CUBE</span></tt> which contains an option listing the sections (as a comma-separated list) with the turntable information:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">ROTATE_CUBE</span><span class="p">]</span>
<span class="n">tables</span> <span class="o">=</span> <span class="n">table_1</span><span class="p">,</span> <span class="n">table_2</span>
</pre></div>
</div>
<p>The command was called the <cite>rotate_cube</cite> so that the older <cite>rotate</cite> can still be used with the older turntables which have a slightly different interface:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">TEST</span><span class="p">]</span>
<span class="n">setup_test</span> <span class="o">=</span> <span class="n">rotate_cube</span><span class="p">,</span> <span class="n">rotate</span>
</pre></div>
</div>
</div>
<div class="section" id="the-table-sections">
<h2>The Table Sections<a class="headerlink" href="#the-table-sections" title="Permalink to this headline">¶</a></h2>
<p>The strings in the <tt class="docutils literal"><span class="pre">tables</span></tt> option are arbitrary so they should probably be set to something that&#8217;s meaningful so it&#8217;s easier to remember what each refers to  (e.g. <tt class="docutils literal"><span class="pre">tables</span> <span class="pre">=</span> <span class="pre">livingroom,</span> <span class="pre">masterbath</span></tt>). There are three types of options that go into these sections:</p>
<blockquote>
<div><ul class="simple">
<li>ssh-information for the turntable</li>
<li>arguments for the <cite>rotate</cite> command</li>
<li>a list of angles</li>
</ul>
</div></blockquote>
<div class="section" id="rotate-arguments">
<h3>Rotate Arguments<a class="headerlink" href="#rotate-arguments" title="Permalink to this headline">¶</a></h3>
<p>To get the arguments that the <cite>rotate</cite> command uses you should either look at the <a class="reference external" href="http://rallion.bitbucket.org/others/rotation_table/index.html">online documentation</a> , particularly the <a class="reference external" href="http://rallion.bitbucket.org/others/rotation_table/main.html">main entry point</a> which has a sample help string example, and the <a class="reference external" href="http://rallion.bitbucket.org/others/rotation_table/base_arguments.html">Base Arguments page</a> which explains what the valid values are for the arguments or ssh into the controller for the PC and look at the help string (<tt class="docutils literal"><span class="pre">rotate</span> <span class="pre">-h</span></tt>). To set an option that takes a value at the command-line you use the <cite>&lt;option&gt;=&lt;value&gt;</cite> format (e.g. <cite>velocity = 20</cite>) in the config file. To set an option that&#8217;s boolean you use the <cite>&lt;option&gt;=True</cite> format (e.g. <cite>clockwise=True</cite>) you can use <cite>&lt;option&gt;=False</cite> but that&#8217;s the default so you could leave it out instead.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <tt class="docutils literal"><span class="pre">--set</span></tt> isn&#8217;t supported here.</p>
</div>
</div>
<div class="section" id="ssh-information">
<h3>SSH Information<a class="headerlink" href="#ssh-information" title="Permalink to this headline">¶</a></h3>
<p>Right now it only looks for <cite>hostname</cite>, <cite>username</cite> and (optionally) <cite>password</cite>. If you have public-keys set up you can leave the password out.</p>
</div>
<div class="section" id="angles">
<h3>Angles<a class="headerlink" href="#angles" title="Permalink to this headline">¶</a></h3>
<p>Although technically part of the arguments for the <cite>rotate</cite> command, this expects a list of angles (integers only) so that it can change in between executing whatever is in the TEST-section&#8217;s <cite>execute_test</cite> option. By default the angles are interpreted as a counter-clockwise angle (looking down on the table) and bounded from 0 to 359 so if you put 720, the code will interpret it as 0. To rotate the table clockwise you can either put a negative sign in front of the angles or set the <tt class="docutils literal"><span class="pre">clockwise</span></tt> option.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This table is currently set to not rotate beyond 359 degrees so the angles refer to where it stops, not an actual direction of rotation. If needed the table range can be changed but that requires changing some values in the controlling code attached to the device.</p>
</div>
<p>The code assumes that the longest list of angles is the correct list and will repeat the last angle in a table&#8217;s list if it runs out of angles to match the longest list (so if you want to set it only to 90 on one table and rotate more angles on another you can).</p>
</div>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>Going back to the two tables listed in the <cite>ROTATE_CUBE</cite> section, suppose we wanted to set one at 90 degrees clockwise and the other counter-clockwise, rotating at 90-degree intervals. We could do something like the following:</p>
<div class="highlight-python"><div class="highlight"><pre>[table_1]
hostname = 192.168.10.20
username = root
password = testlabs
angles = 90
clockwise = True


[table_2]
hostname = 192.168.10.21
username = root
password = testlabs
angles = 0, 90, 180, 270
</pre></div>
</div>
<p>If you just want to test the configuration you can add <tt class="docutils literal"><span class="pre">test=True</span></tt> to each table and the code will send the arguments to the table to be validated but not actually rotate the table (just log and print some information so you can see the values that the table is getting).</p>
</div>
</div>
<div class="section" id="complete-example">
<h2>Complete Example<a class="headerlink" href="#complete-example" title="Permalink to this headline">¶</a></h2>
<p>This is a full-example using three tables (two new-ones and one old one) with correlating data being scraped in the background (log-watching).</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[TEST]</span>
<span class="na">operation_setup</span> <span class="o">=</span> <span class="s">watchlogs</span>
<span class="na">setup_test</span> <span class="o">=</span> <span class="s">rotate_cube, rotate</span>
<span class="na">execute_test</span> <span class="o">=</span> <span class="s">sleep, iperf</span>
<span class="na">output_folder</span> <span class="o">=</span> <span class="s">rotate_cube_test_{t}</span>

<span class="na">repeat</span> <span class="o">=</span> <span class="s">1</span>
<span class="na">tag</span> <span class="o">=</span> <span class="s">APE</span>
<span class="na">recovery_time</span> <span class="o">=</span> <span class="s">1 Second</span>

<span class="k">[ROTATE_CUBE]</span>
<span class="na">tables</span> <span class="o">=</span> <span class="s">moira, moira_again</span>

<span class="k">[moira]</span>
<span class="na">hostname</span> <span class="o">=</span> <span class="s">moiragetes</span>
<span class="na">username</span> <span class="o">=</span> <span class="s">tester</span>
<span class="na">angles</span> <span class="o">=</span> <span class="s">0, 90, 180</span>
<span class="na">velocity</span> <span class="o">=</span> <span class="s">500</span>
<span class="na">clockwise</span> <span class="o">=</span> <span class="s">True</span>

<span class="k">[moira_again]</span>
<span class="na">hostname</span> <span class="o">=</span> <span class="s">moiragetes</span>
<span class="na">username</span> <span class="o">=</span> <span class="s">tester</span>
<span class="na">angles</span> <span class="o">=</span> <span class="s">10, 20</span>
<span class="s">       </span>
<span class="k">[SLEEP]</span>
<span class="na">time</span> <span class="o">=</span> <span class="s">2 minutes</span>

<span class="k">[NODES]</span>
<span class="na">tate</span> <span class="o">=</span> <span class="s">hostname:phoridfly,login:root,operating_system:android,connection:adbshellssh,test_interface:wlan0</span>

<span class="k">[ROTATE]</span>
<span class="na">node1</span> <span class="o">=</span> <span class="s">hostname:phoridfly, username:root, password:testlabs</span>
<span class="na">angles</span> <span class="o">=</span> <span class="s">180,0:50,45,90:100,270:10</span>

<span class="k">[TRAFFIC_PC]</span>
<span class="na">tpc</span> <span class="o">=</span> <span class="s">operating_system:linux,connection:ssh,test_interface:eth3,hostname:lancet,login:allion</span>

<span class="k">[WATCHLOGS]</span>
<span class="na">logcat</span> <span class="o">=</span> <span class="s">type:adblogcat, buffers:all</span>
<span class="na">kmsg</span> <span class="o">=</span> <span class="s">type:logcat,command:cat,arguments:/proc/kmsg</span>
<span class="na">battery</span> <span class="o">=</span> <span class="s">type:battery,name:/sys/class/power_supply/bq27541/uevent</span>
<span class="na">proc</span> <span class="o">=</span> <span class="s">type:procnetdev,interface:wlan0</span>
<span class="na">device</span> <span class="o">=</span> <span class="s">type:device</span>
<span class="na">cpu</span> <span class="o">=</span> <span class="s">type:cpu</span>

<span class="k">[IPERF]</span>
<span class="na">directions</span> <span class="o">=</span> <span class="s">from_dut, to_dut</span>
<span class="na">time</span> <span class="o">=</span> <span class="s">10 Seconds</span>
<span class="na">protocol</span> <span class="o">=</span> <span class="s">tcp</span>
<span class="na">window</span> <span class="o">=</span> <span class="s">256K</span>
<span class="na">len</span> <span class="o">=</span> <span class="s">1470</span>
<span class="na">parallel</span> <span class="o">=</span> <span class="s">4</span>
<span class="na">interval</span> <span class="o">=</span> <span class="s">1</span>
<span class="na">format</span> <span class="o">=</span> <span class="s">b</span>
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014, russelln.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>