<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The Rotate &mdash; APETools 2014.09.18 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.2.0/readable/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2014.09.18',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="APETools 2014.09.18 documentation" href="../index.html" />
    <link rel="up" title="Commands" href="index.html" />
    <link rel="next" title="apetools.commands.rotate.RotateArgumentsGenerator" href="api/apetools.commands.rotate.RotateArgumentsGenerator.html" />
    <link rel="prev" title="apetools.commands.pscommand.TestPsGrep.test_call_parameter" href="api/apetools.commands.pscommand.TestPsGrep.test_call_parameter.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          APETools</a>
        <span class="navbar-text navbar-version pull-left"><b>2014.09.18</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../documentation/user/index.html">User Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation/developer/index.html">Developer Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../baseclass.html">The BaseClass</a></li>
<li class="toctree-l1"><a class="reference internal" href="../log_setter.html">The Log Setter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main.html">The Main Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">APE Readme</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../affectors/index.html">Affectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../builders/index.html">Builders</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commons/index.html">Commons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connections/index.html">Connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devices/index.html">Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../informants/index.html">Informants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lexicographers/index.html">Lexicographers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/index.html">Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parameters/index.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parsers/index.html">Parsers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pipes/index.html">Pipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proletarians/index.html">Proletarians</a></li>
<li class="toctree-l1"><a class="reference internal" href="../threads/index.html">Threads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watchers/index.html">Watchers</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">The Rotate</a><ul>
<li><a class="reference internal" href="#rotateerror">RotateError</a></li>
<li><a class="reference internal" href="#rotateargumentsgenerator">RotateArgumentsGenerator</a></li>
<li><a class="reference internal" href="#module-apetools.commands.rotate">RotateCommand</a></li>
<li><a class="reference internal" href="#the-rotatecommandusurper">The RotateCommandUsurper</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="api/apetools.commands.pscommand.TestPsGrep.test_call_parameter.html" title="Previous Chapter: apetools.commands.pscommand.TestPsGrep.test_call_parameter"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; apetools.command...</span>
    </a>
  </li>
  <li>
    <a href="api/apetools.commands.rotate.RotateArgumentsGenerator.html" title="Next Chapter: apetools.commands.rotate.RotateArgumentsGenerator"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">apetools.command... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/commands/rotate.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="the-rotate">
<h1>The Rotate<a class="headerlink" href="#the-rotate" title="Permalink to this headline">¶</a></h1>
<p>A command-line interface to run the rotate command remotely.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">SIGKILL</span> <span class="o">=</span> <span class="mi">9</span>
<span class="n">PROCESS</span> <span class="o">=</span> <span class="s">&#39;rotate&#39;</span>
</pre></div>
</div>
<div class="section" id="rotateerror">
<h2>RotateError<a class="headerlink" href="#rotateerror" title="Permalink to this headline">¶</a></h2>
<p class="plantuml">
<img src="../_images/plantuml-8ffb6c637bd34122148a9108795f4a3a5ab2132b.png" alt="CommandError &lt;|-- RotateError" />
</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">RotateError</span><span class="p">(</span><span class="n">CommandError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An error in the rotation</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="c"># end class RotateError</span>
</pre></div>
</div>
</div>
<div class="section" id="rotateargumentsgenerator">
<h2>RotateArgumentsGenerator<a class="headerlink" href="#rotateargumentsgenerator" title="Permalink to this headline">¶</a></h2>
<p>This is a class intended for the RotateCommand.__call__. It generates arguments based on what settings it gets. It is only concerned with the argument string(s) needed to be sent to the rotate command. Something else will have to make sure that the right arguments are sent to the right table.</p>
<p class="plantuml">
<img src="../_images/plantuml-9d0f7afb4e49ba998554b186c0ad7179094d1ca8.png" alt="RotateArgumentsGenerator o- ConfigurationMap" />
</p>
<span class="target" id="module-apetools.commands.rotate"></span><table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="api/apetools.commands.rotate.RotateArgumentsGenerator.html#apetools.commands.rotate.RotateArgumentsGenerator" title="apetools.commands.rotate.RotateArgumentsGenerator"><tt class="xref py py-obj docutils literal"><span class="pre">RotateArgumentsGenerator</span></tt></a>(configuration,&nbsp;section)</td>
<td>RotateArgumentsGenerator for the rotate command</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="api/apetools.commands.rotate.RotateArgumentsGenerator.base_arguments.html#apetools.commands.rotate.RotateArgumentsGenerator.base_arguments" title="apetools.commands.rotate.RotateArgumentsGenerator.base_arguments"><tt class="xref py py-obj docutils literal"><span class="pre">RotateArgumentsGenerator.base_arguments</span></tt></a></td>
<td>A Rotate BaseArguments object</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="api/apetools.commands.rotate.RotateArgumentsGenerator.values_string.html#apetools.commands.rotate.RotateArgumentsGenerator.values_string" title="apetools.commands.rotate.RotateArgumentsGenerator.values_string"><tt class="xref py py-obj docutils literal"><span class="pre">RotateArgumentsGenerator.values_string</span></tt></a></td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">string of options with values</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="api/apetools.commands.rotate.RotateArgumentsGenerator.booleans_string.html#apetools.commands.rotate.RotateArgumentsGenerator.booleans_string" title="apetools.commands.rotate.RotateArgumentsGenerator.booleans_string"><tt class="xref py py-obj docutils literal"><span class="pre">RotateArgumentsGenerator.booleans_string</span></tt></a></td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">string of boolean options</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="api/apetools.commands.rotate.RotateArgumentsGenerator.angles.html#apetools.commands.rotate.RotateArgumentsGenerator.angles" title="apetools.commands.rotate.RotateArgumentsGenerator.angles"><tt class="xref py py-obj docutils literal"><span class="pre">RotateArgumentsGenerator.angles</span></tt></a></td>
<td>List of angles from the configuration</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="api/apetools.commands.rotate.RotateArgumentsGenerator.argument_strings.html#apetools.commands.rotate.RotateArgumentsGenerator.argument_strings" title="apetools.commands.rotate.RotateArgumentsGenerator.argument_strings"><tt class="xref py py-obj docutils literal"><span class="pre">RotateArgumentsGenerator.argument_strings</span></tt></a></td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">list of argument strings for each angle</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="api/apetools.commands.rotate.RotateArgumentsGenerator.__len__.html#apetools.commands.rotate.RotateArgumentsGenerator.__len__" title="apetools.commands.rotate.RotateArgumentsGenerator.__len__"><tt class="xref py py-obj docutils literal"><span class="pre">RotateArgumentsGenerator.__len__</span></tt></a>()</td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">number of angles</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="api/apetools.commands.rotate.RotateArgumentsGenerator.__lt__.html#apetools.commands.rotate.RotateArgumentsGenerator.__lt__" title="apetools.commands.rotate.RotateArgumentsGenerator.__lt__"><tt class="xref py py-obj docutils literal"><span class="pre">RotateArgumentsGenerator.__lt__</span></tt></a>(other)</td>
<td>&lt; operator</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="api/apetools.commands.rotate.RotateArgumentsGenerator.__le__.html#apetools.commands.rotate.RotateArgumentsGenerator.__le__" title="apetools.commands.rotate.RotateArgumentsGenerator.__le__"><tt class="xref py py-obj docutils literal"><span class="pre">RotateArgumentsGenerator.__le__</span></tt></a>(other)</td>
<td>&lt;= operator</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="api/apetools.commands.rotate.RotateArgumentsGenerator.__eq__.html#apetools.commands.rotate.RotateArgumentsGenerator.__eq__" title="apetools.commands.rotate.RotateArgumentsGenerator.__eq__"><tt class="xref py py-obj docutils literal"><span class="pre">RotateArgumentsGenerator.__eq__</span></tt></a>(other)</td>
<td>= operator</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="api/apetools.commands.rotate.RotateArgumentsGenerator.__ne__.html#apetools.commands.rotate.RotateArgumentsGenerator.__ne__" title="apetools.commands.rotate.RotateArgumentsGenerator.__ne__"><tt class="xref py py-obj docutils literal"><span class="pre">RotateArgumentsGenerator.__ne__</span></tt></a>(other)</td>
<td>!= operator</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="api/apetools.commands.rotate.RotateArgumentsGenerator.__gt__.html#apetools.commands.rotate.RotateArgumentsGenerator.__gt__" title="apetools.commands.rotate.RotateArgumentsGenerator.__gt__"><tt class="xref py py-obj docutils literal"><span class="pre">RotateArgumentsGenerator.__gt__</span></tt></a>(other)</td>
<td>&gt; operator</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="api/apetools.commands.rotate.RotateArgumentsGenerator.__ge__.html#apetools.commands.rotate.RotateArgumentsGenerator.__ge__" title="apetools.commands.rotate.RotateArgumentsGenerator.__ge__"><tt class="xref py py-obj docutils literal"><span class="pre">RotateArgumentsGenerator.__ge__</span></tt></a>(other)</td>
<td>&gt;= operator</td>
</tr>
</tbody>
</table>
<p>The basic idea (assuming you only have one table) is that you would traverse the <cite>argument_strings</cite> and send them to the call.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">rotate</span> <span class="o">=</span> <span class="n">RotateCommand</span><span class="p">(</span><span class="n">connections</span><span class="o">=</span><span class="n">connection</span><span class="p">)</span>
<span class="n">parameters</span> <span class="o">=</span> <span class="n">RotateArgumentsGenerator</span><span class="p">(</span><span class="n">configuration</span><span class="p">,</span> <span class="n">section</span><span class="o">=</span><span class="s">&#39;table1&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">arguments</span> <span class="ow">in</span> <span class="n">parameters</span><span class="o">.</span><span class="n">argument_strings</span><span class="p">:</span>
    <span class="n">rotate</span><span class="p">(</span><span class="n">arguments</span><span class="p">)</span>
</pre></div>
</div>
<p>This is not nearly so straight-forward in the builders themselves since the rotate is called in between the iperf calls... how does this work?</p>
</div>
<div class="section" id="module-apetools.commands.rotate">
<span id="rotatecommand"></span><h2>RotateCommand<a class="headerlink" href="#module-apetools.commands.rotate" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../documentation/developer/casestudies/api/apetools.commands.rotate.RotateCommand.html#apetools.commands.rotate.RotateCommand" title="apetools.commands.rotate.RotateCommand"><tt class="xref py py-obj docutils literal"><span class="pre">RotateCommand</span></tt></a>(connections[,&nbsp;retries])</td>
<td>A class to issue a remote &#8216;rotate&#8217; command (older version for pre-Cameron turntables)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../documentation/developer/casestudies/api/apetools.commands.rotate.RotateCommand.html#apetools.commands.rotate.RotateCommand.killers" title="apetools.commands.rotate.RotateCommand.killers"><tt class="xref py py-obj docutils literal"><span class="pre">RotateCommand.killers</span></tt></a></td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">rotate process killer</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../documentation/developer/casestudies/api/apetools.commands.rotate.RotateCommand.html#apetools.commands.rotate.RotateCommand.kill_process" title="apetools.commands.rotate.RotateCommand.kill_process"><tt class="xref py py-obj docutils literal"><span class="pre">RotateCommand.kill_process</span></tt></a>()</td>
<td>Kills rotate processes over the connection</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../documentation/developer/casestudies/api/apetools.commands.rotate.RotateCommand.html#apetools.commands.rotate.RotateCommand.rotate" title="apetools.commands.rotate.RotateCommand.rotate"><tt class="xref py py-obj docutils literal"><span class="pre">RotateCommand.rotate</span></tt></a>(connection,&nbsp;arguments)</td>
<td>sends the arguments to the connection</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="api/apetools.commands.rotate.RotateCommand.__call__.html#apetools.commands.rotate.RotateCommand.__call__" title="apetools.commands.rotate.RotateCommand.__call__"><tt class="xref py py-obj docutils literal"><span class="pre">RotateCommand.__call__</span></tt></a>(parameters[,&nbsp;...])</td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../documentation/developer/casestudies/api/apetools.commands.rotate.RotateCommand.html#apetools.commands.rotate.RotateCommand.check_errors" title="apetools.commands.rotate.RotateCommand.check_errors"><tt class="xref py py-obj docutils literal"><span class="pre">RotateCommand.check_errors</span></tt></a>(line)</td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<p>This is the original rotate command when the tables were giving feedback for their positions.</p>
</div>
<div class="section" id="the-rotatecommandusurper">
<span id="apetools-rotate-command-usurper"></span><h2>The RotateCommandUsurper<a class="headerlink" href="#the-rotatecommandusurper" title="Permalink to this headline">¶</a></h2>
<p>This is the newer rotate command (as of November 3, 2014) that uses the replacement turntables built with raised platforms to temper the effects of electro-magnetic interference created by the turntable&#8217;s motor. As with the other command, it&#8217;s just sending and receiving strings over SSH so any device that implements the same interface will work.</p>
<p class="plantuml">
<img src="../_images/plantuml-052bd66527a2e3cce243a75317b5b4c5e8bb9c3d.png" alt="RotateCommand &lt;|-- RotateCommandUsurper" />
</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../documentation/developer/casestudies/api/apetools.commands.rotate.RotateCommandUsurper.html#apetools.commands.rotate.RotateCommandUsurper" title="apetools.commands.rotate.RotateCommandUsurper"><tt class="xref py py-obj docutils literal"><span class="pre">RotateCommandUsurper</span></tt></a>(connections[,&nbsp;retries])</td>
<td>Command to rotate turntables</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="api/apetools.commands.rotate.RotateCommandUsurper.__call__.html#apetools.commands.rotate.RotateCommandUsurper.__call__" title="apetools.commands.rotate.RotateCommandUsurper.__call__"><tt class="xref py py-obj docutils literal"><span class="pre">RotateCommandUsurper.__call__</span></tt></a>(parameters[,&nbsp;...])</td>
<td>Main interface to rotate tables</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../documentation/developer/casestudies/api/apetools.commands.rotate.RotateCommandUsurper.html#apetools.commands.rotate.RotateCommandUsurper.rotate" title="apetools.commands.rotate.RotateCommandUsurper.rotate"><tt class="xref py py-obj docutils literal"><span class="pre">RotateCommandUsurper.rotate</span></tt></a>(connection[,&nbsp;...])</td>
<td>Assumes that the command will block until done and nothing unusual happens</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># this is for the builder to set the name of the parameters</span>
<span class="n">ROTATE_USURPER_NAME</span> <span class="o">=</span> <span class="s">&#39;rotate_usurper&#39;</span>
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014, russelln.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>