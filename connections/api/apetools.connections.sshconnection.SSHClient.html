<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>apetools.connections.sshconnection.SSHClient &mdash; APETools 2014.09.18 documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2014.09.18',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="APETools 2014.09.18 documentation" href="../../index.html" />
    <link rel="up" title="The SSHConnection" href="../sshconnection.html" />
    <link rel="next" title="apetools.connections.sshconnection.SimpleClient" href="apetools.connections.sshconnection.SimpleClient.html" />
    <link rel="prev" title="apetools.connections.sshconnection.OutputFile" href="apetools.connections.sshconnection.OutputFile.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="apetools.connections.sshconnection.SimpleClient.html" title="apetools.connections.sshconnection.SimpleClient"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="apetools.connections.sshconnection.OutputFile.html" title="apetools.connections.sshconnection.OutputFile"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">APETools documentation</a> &raquo;</li>
          <li><a href="../index.html" >Connections</a> &raquo;</li>
          <li><a href="../sshconnection.html" accesskey="U">The SSHConnection</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="apetools-connections-sshconnection-sshclient">
<h1>apetools.connections.sshconnection.SSHClient<a class="headerlink" href="#apetools-connections-sshconnection-sshclient" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="apetools.connections.sshconnection.SSHClient">
<em class="property">class </em><tt class="descclassname">apetools.connections.sshconnection.</tt><tt class="descname">SSHClient</tt><a class="reference internal" href="../../_modules/apetools/connections/sshconnection.html#SSHClient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#apetools.connections.sshconnection.SSHClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclasses paramiko&#8217;s SSHClient to add a timeout.</p>
<p>Create a new SSHClient.</p>
<dl class="method">
<dt id="apetools.connections.sshconnection.SSHClient.__init__">
<tt class="descname">__init__</tt><big>(</big><big>)</big><a class="headerlink" href="#apetools.connections.sshconnection.SSHClient.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new SSHClient.</p>
</dd></dl>

<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../../documentation/developer/connections/api/apetools.connections.sshconnection.SSHClient.html#apetools.connections.sshconnection.SSHClient.__init__" title="apetools.connections.sshconnection.SSHClient.__init__"><tt class="xref py py-obj docutils literal"><span class="pre">__init__</span></tt></a>()</td>
<td>Create a new SSHClient.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../documentation/developer/connections/api/apetools.connections.sshconnection.SSHClient.html#apetools.connections.sshconnection.SSHClient.close" title="apetools.connections.sshconnection.SSHClient.close"><tt class="xref py py-obj docutils literal"><span class="pre">close</span></tt></a>()</td>
<td>Close this SSHClient and its underlying <cite>.Transport</cite>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../documentation/developer/connections/api/apetools.connections.sshconnection.SSHClient.html#apetools.connections.sshconnection.SSHClient.connect" title="apetools.connections.sshconnection.SSHClient.connect"><tt class="xref py py-obj docutils literal"><span class="pre">connect</span></tt></a>(hostname[,&nbsp;port,&nbsp;username,&nbsp;...])</td>
<td>Connect to an SSH server and authenticate to it.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../documentation/developer/connections/api/apetools.connections.sshconnection.SSHClient.html#apetools.connections.sshconnection.SSHClient.exec_command" title="apetools.connections.sshconnection.SSHClient.exec_command"><tt class="xref py py-obj docutils literal"><span class="pre">exec_command</span></tt></a>(command[,&nbsp;timeout,&nbsp;bufsize,&nbsp;...])</td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../documentation/developer/connections/api/apetools.connections.sshconnection.SSHClient.html#apetools.connections.sshconnection.SSHClient.get_host_keys" title="apetools.connections.sshconnection.SSHClient.get_host_keys"><tt class="xref py py-obj docutils literal"><span class="pre">get_host_keys</span></tt></a>()</td>
<td>Get the local <cite>.HostKeys</cite> object.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../documentation/developer/connections/api/apetools.connections.sshconnection.SSHClient.html#apetools.connections.sshconnection.SSHClient.get_transport" title="apetools.connections.sshconnection.SSHClient.get_transport"><tt class="xref py py-obj docutils literal"><span class="pre">get_transport</span></tt></a>()</td>
<td>Return the underlying <cite>.Transport</cite> object for this SSH connection.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../documentation/developer/connections/api/apetools.connections.sshconnection.SSHClient.html#apetools.connections.sshconnection.SSHClient.invoke_shell" title="apetools.connections.sshconnection.SSHClient.invoke_shell"><tt class="xref py py-obj docutils literal"><span class="pre">invoke_shell</span></tt></a>([term,&nbsp;width,&nbsp;height,&nbsp;timeout,&nbsp;...])</td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../documentation/developer/connections/api/apetools.connections.sshconnection.SSHClient.html#apetools.connections.sshconnection.SSHClient.invoke_shell_rw" title="apetools.connections.sshconnection.SSHClient.invoke_shell_rw"><tt class="xref py py-obj docutils literal"><span class="pre">invoke_shell_rw</span></tt></a>([term,&nbsp;width,&nbsp;height,&nbsp;...])</td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../documentation/developer/connections/api/apetools.connections.sshconnection.SSHClient.html#apetools.connections.sshconnection.SSHClient.load_host_keys" title="apetools.connections.sshconnection.SSHClient.load_host_keys"><tt class="xref py py-obj docutils literal"><span class="pre">load_host_keys</span></tt></a>(filename)</td>
<td>Load host keys from a local host-key file.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../documentation/developer/connections/api/apetools.connections.sshconnection.SSHClient.html#apetools.connections.sshconnection.SSHClient.load_system_host_keys" title="apetools.connections.sshconnection.SSHClient.load_system_host_keys"><tt class="xref py py-obj docutils literal"><span class="pre">load_system_host_keys</span></tt></a>([filename])</td>
<td>Load host keys from a system (read-only) file.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../documentation/developer/connections/api/apetools.connections.sshconnection.SSHClient.html#apetools.connections.sshconnection.SSHClient.open_sftp" title="apetools.connections.sshconnection.SSHClient.open_sftp"><tt class="xref py py-obj docutils literal"><span class="pre">open_sftp</span></tt></a>()</td>
<td>Open an SFTP session on the SSH server.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../documentation/developer/connections/api/apetools.connections.sshconnection.SSHClient.html#apetools.connections.sshconnection.SSHClient.save_host_keys" title="apetools.connections.sshconnection.SSHClient.save_host_keys"><tt class="xref py py-obj docutils literal"><span class="pre">save_host_keys</span></tt></a>(filename)</td>
<td>Save the host keys back to a file.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../../documentation/developer/connections/api/apetools.connections.sshconnection.SSHClient.html#apetools.connections.sshconnection.SSHClient.set_log_channel" title="apetools.connections.sshconnection.SSHClient.set_log_channel"><tt class="xref py py-obj docutils literal"><span class="pre">set_log_channel</span></tt></a>(name)</td>
<td>Set the channel for logging.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../documentation/developer/connections/api/apetools.connections.sshconnection.SSHClient.html#apetools.connections.sshconnection.SSHClient.set_missing_host_key_policy" title="apetools.connections.sshconnection.SSHClient.set_missing_host_key_policy"><tt class="xref py py-obj docutils literal"><span class="pre">set_missing_host_key_policy</span></tt></a>(policy)</td>
<td>Set the policy to use when connecting to a server that doesn&#8217;t have a host key in either the system or local <cite>.HostKeys</cite> objects.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="apetools.connections.sshconnection.SSHClient._auth">
<tt class="descname">_auth</tt><big>(</big><em>username</em>, <em>password</em>, <em>pkey</em>, <em>key_filenames</em>, <em>allow_agent</em>, <em>look_for_keys</em>, <em>gss_auth</em>, <em>gss_kex</em>, <em>gss_deleg_creds</em>, <em>gss_host</em><big>)</big><a class="headerlink" href="#apetools.connections.sshconnection.SSHClient._auth" title="Permalink to this definition">¶</a></dt>
<dd><p>Try, in order:</p>
<blockquote>
<div><ul class="simple">
<li>The key passed in, if one was passed in.</li>
<li>Any key we can find through an SSH agent (if allowed).</li>
<li>Any &#8220;id_rsa&#8221;, &#8220;id_dsa&#8221; or &#8220;id_ecdsa&#8221; key discoverable in ~/.ssh/
(if allowed).</li>
<li>Plain username/password auth, if a password was given.</li>
</ul>
</div></blockquote>
<p>(The password might be needed to unlock a private key, or for
two-factor authentication [for which it is required].)</p>
</dd></dl>

<dl class="method">
<dt id="apetools.connections.sshconnection.SSHClient.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#apetools.connections.sshconnection.SSHClient.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close this SSHClient and its underlying <cite>.Transport</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="apetools.connections.sshconnection.SSHClient.connect">
<tt class="descname">connect</tt><big>(</big><em>hostname</em>, <em>port=22</em>, <em>username=None</em>, <em>password=None</em>, <em>pkey=None</em>, <em>key_filename=None</em>, <em>timeout=None</em>, <em>allow_agent=True</em>, <em>look_for_keys=True</em>, <em>compress=False</em>, <em>sock=None</em>, <em>gss_auth=False</em>, <em>gss_kex=False</em>, <em>gss_deleg_creds=True</em>, <em>gss_host=None</em>, <em>banner_timeout=None</em><big>)</big><a class="headerlink" href="#apetools.connections.sshconnection.SSHClient.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to an SSH server and authenticate to it.  The server&#8217;s host key
is checked against the system host keys (see <cite>load_system_host_keys</cite>)
and any local host keys (<cite>load_host_keys</cite>).  If the server&#8217;s hostname
is not found in either set of host keys, the missing host key policy
is used (see <cite>set_missing_host_key_policy</cite>).  The default policy is
to reject the key and raise an <cite>.SSHException</cite>.</p>
<p>Authentication is attempted in the following order of priority:</p>
<blockquote>
<div><ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">pkey</span></tt> or <tt class="docutils literal"><span class="pre">key_filename</span></tt> passed in (if any)</li>
<li>Any key we can find through an SSH agent</li>
<li>Any &#8220;id_rsa&#8221;, &#8220;id_dsa&#8221; or &#8220;id_ecdsa&#8221; key discoverable in
<tt class="docutils literal"><span class="pre">~/.ssh/</span></tt></li>
<li>Plain username/password auth, if a password was given</li>
</ul>
</div></blockquote>
<p>If a private key requires a password to unlock it, and a password is
passed in, that password will be used to attempt to unlock the key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>hostname</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the server to connect to</li>
<li><strong>port</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; the server port to connect to</li>
<li><strong>username</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the username to authenticate as (defaults to the current local
username)</li>
<li><strong>password</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; a password to use for authentication or for unlocking a private key</li>
<li><strong>pkey</strong> (<em>.PKey</em>) &#8211; an optional private key to use for authentication</li>
<li><strong>key_filename</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the filename, or list of filenames, of optional private key(s) to
try for authentication</li>
<li><strong>timeout</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; an optional timeout (in seconds) for the TCP connect</li>
<li><strong>allow_agent</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; set to False to disable connecting to the SSH agent</li>
<li><strong>look_for_keys</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; set to False to disable searching for discoverable private key
files in <tt class="docutils literal"><span class="pre">~/.ssh/</span></tt></li>
<li><strong>compress</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; set to True to turn on compression</li>
<li><strong>sock</strong> (<a class="reference external" href="http://docs.python.org/library/socket.html#module-socket" title="(in Python v2.7)"><em>socket</em></a>) &#8211; an open socket or socket-like object (such as a <cite>.Channel</cite>) to use
for communication to the target host</li>
<li><strong>gss_auth</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; <tt class="docutils literal"><span class="pre">True</span></tt> if you want to use GSS-API authentication</li>
<li><strong>gss_kex</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Perform GSS-API Key Exchange and user authentication</li>
<li><strong>gss_deleg_creds</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; Delegate GSS-API client credentials or not</li>
<li><strong>gss_host</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The targets name in the kerberos database. default: hostname</li>
<li><strong>banner_timeout</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; an optional timeout (in seconds) to wait
for the SSH banner to be presented.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>BadHostKeyException</strong> &#8211; if the server&#8217;s host key could not be
verified</li>
<li><strong>AuthenticationException</strong> &#8211; if authentication failed</li>
<li><strong>SSHException</strong> &#8211; if there was any other error connecting or
establishing an SSH session</li>
<li><a class="reference external" href="http://docs.python.org/library/socket.html#socket.error" title="(in Python v2.7)"><strong>socket.error</strong></a> &#8211; if a socket error occurred while connecting</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.15: </span>Added the <tt class="docutils literal"><span class="pre">banner_timeout</span></tt>, <tt class="docutils literal"><span class="pre">gss_auth</span></tt>, <tt class="docutils literal"><span class="pre">gss_kex</span></tt>,
<tt class="docutils literal"><span class="pre">gss_deleg_creds</span></tt> and <tt class="docutils literal"><span class="pre">gss_host</span></tt> arguments.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="apetools.connections.sshconnection.SSHClient.exec_command">
<tt class="descname">exec_command</tt><big>(</big><em>command</em>, <em>timeout=None</em>, <em>bufsize=-1</em>, <em>combine_stderr=False</em><big>)</big><a class="reference internal" href="../../_modules/apetools/connections/sshconnection.html#SSHClient.exec_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#apetools.connections.sshconnection.SSHClient.exec_command" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><ul class="first simple">
<li><cite>command</cite>: A string to send to the client.</li>
<li><cite>timeout</cite>: Set non-blocking timeout.</li>
<li><cite>bufsize</cite>: Interpreted same way as python <cite>file</cite>.</li>
<li><cite>combine_stderr</cite>: Sets the paramiko flag so there&#8217;s only one stream</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">stdin, stdout, stderr</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="apetools.connections.sshconnection.SSHClient.get_host_keys">
<tt class="descname">get_host_keys</tt><big>(</big><big>)</big><a class="headerlink" href="#apetools.connections.sshconnection.SSHClient.get_host_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the local <cite>.HostKeys</cite> object.  This can be used to examine the
local host keys or change them.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the local host keys as a <cite>.HostKeys</cite> object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="apetools.connections.sshconnection.SSHClient.get_transport">
<tt class="descname">get_transport</tt><big>(</big><big>)</big><a class="headerlink" href="#apetools.connections.sshconnection.SSHClient.get_transport" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the underlying <cite>.Transport</cite> object for this SSH connection.
This can be used to perform lower-level tasks, like opening specific
kinds of channels.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the <cite>.Transport</cite> for this connection</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="apetools.connections.sshconnection.SSHClient.invoke_shell">
<tt class="descname">invoke_shell</tt><big>(</big><em>term='vt100'</em>, <em>width=80</em>, <em>height=24</em>, <em>timeout=None</em>, <em>bufsize=-1</em><big>)</big><a class="reference internal" href="../../_modules/apetools/connections/sshconnection.html#SSHClient.invoke_shell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#apetools.connections.sshconnection.SSHClient.invoke_shell" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><ul class="first simple">
<li><cite>term</cite>: Terminal to emulate.</li>
<li><cite>width</cite>: Screen width</li>
<li><cite>height</cite>: Screen Height.</li>
<li><cite>timeout</cite>: Set non-blocking timeout.</li>
<li><cite>bufsize</cite>: Interpreted same way as python <cite>file</cite>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">stdin, stdout, stderr</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="apetools.connections.sshconnection.SSHClient.invoke_shell_rw">
<tt class="descname">invoke_shell_rw</tt><big>(</big><em>term='vt100'</em>, <em>width=80</em>, <em>height=24</em>, <em>timeout=None</em>, <em>bufsize=-1</em><big>)</big><a class="reference internal" href="../../_modules/apetools/connections/sshconnection.html#SSHClient.invoke_shell_rw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#apetools.connections.sshconnection.SSHClient.invoke_shell_rw" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><ul class="first simple">
<li><cite>term</cite>: Terminal to emulate.</li>
<li><cite>width</cite>: Screen width</li>
<li><cite>height</cite>: Screen Height.</li>
<li><cite>timeout</cite>: Set non-blocking timeout.</li>
<li><cite>bufsize</cite>: Interpreted same way as python <cite>file</cite>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">i/o</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="apetools.connections.sshconnection.SSHClient.load_host_keys">
<tt class="descname">load_host_keys</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#apetools.connections.sshconnection.SSHClient.load_host_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Load host keys from a local host-key file.  Host keys read with this
method will be checked after keys loaded via <cite>load_system_host_keys</cite>,
but will be saved back by <cite>save_host_keys</cite> (so they can be modified).
The missing host key policy <cite>.AutoAddPolicy</cite> adds keys to this set and
saves them, when connecting to a previously-unknown server.</p>
<p>This method can be called multiple times.  Each new set of host keys
will be merged with the existing set (new replacing old if there are
conflicts).  When automatically saving, the last hostname is used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the filename to read</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises IOError:</th><td class="field-body">if the filename could not be read</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="apetools.connections.sshconnection.SSHClient.load_system_host_keys">
<tt class="descname">load_system_host_keys</tt><big>(</big><em>filename=None</em><big>)</big><a class="headerlink" href="#apetools.connections.sshconnection.SSHClient.load_system_host_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Load host keys from a system (read-only) file.  Host keys read with
this method will not be saved back by <cite>save_host_keys</cite>.</p>
<p>This method can be called multiple times.  Each new set of host keys
will be merged with the existing set (new replacing old if there are
conflicts).</p>
<p>If <tt class="docutils literal"><span class="pre">filename</span></tt> is left as <tt class="docutils literal"><span class="pre">None</span></tt>, an attempt will be made to read
keys from the user&#8217;s local &#8220;known hosts&#8221; file, as used by OpenSSH,
and no exception will be raised if the file can&#8217;t be read.  This is
probably only useful on posix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the filename to read, or <tt class="docutils literal"><span class="pre">None</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises IOError:</th><td class="field-body">if a filename was provided and the file could not be read</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="apetools.connections.sshconnection.SSHClient.open_sftp">
<tt class="descname">open_sftp</tt><big>(</big><big>)</big><a class="headerlink" href="#apetools.connections.sshconnection.SSHClient.open_sftp" title="Permalink to this definition">¶</a></dt>
<dd><p>Open an SFTP session on the SSH server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a new <cite>.SFTPClient</cite> session object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="apetools.connections.sshconnection.SSHClient.save_host_keys">
<tt class="descname">save_host_keys</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#apetools.connections.sshconnection.SSHClient.save_host_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the host keys back to a file.  Only the host keys loaded with
<cite>load_host_keys</cite> (plus any added directly) will be saved &#8211; not any
host keys loaded with <cite>load_system_host_keys</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; the filename to save to</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises IOError:</th><td class="field-body">if the file could not be written</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="apetools.connections.sshconnection.SSHClient.set_log_channel">
<tt class="descname">set_log_channel</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#apetools.connections.sshconnection.SSHClient.set_log_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the channel for logging.  The default is <tt class="docutils literal"><span class="pre">&quot;paramiko.transport&quot;</span></tt>
but it can be set to anything you want.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; new channel name for logging</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="apetools.connections.sshconnection.SSHClient.set_missing_host_key_policy">
<tt class="descname">set_missing_host_key_policy</tt><big>(</big><em>policy</em><big>)</big><a class="headerlink" href="#apetools.connections.sshconnection.SSHClient.set_missing_host_key_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the policy to use when connecting to a server that doesn&#8217;t have a
host key in either the system or local <cite>.HostKeys</cite> objects.  The
default policy is to reject all unknown servers (using <cite>.RejectPolicy</cite>).
You may substitute <cite>.AutoAddPolicy</cite> or write your own policy class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>policy</strong> (<em>.MissingHostKeyPolicy</em>) &#8211; the policy to use when receiving a host key from a
previously-unknown server</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/user/index.html">User Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/developer/index.html">Developer Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../baseclass.html">The BaseClass</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../log_setter.html">The Log Setter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../main.html">The Main Module</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../affectors/index.html">Affectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../builders/index.html">Builders</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commands/index.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commons/index.html">Commons</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devices/index.html">Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../informants/index.html">Informants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lexicographers/index.html">Lexicographers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/index.html">Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../parameters/index.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../parsers/index.html">Parsers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pipes/index.html">Pipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../proletarians/index.html">Proletarians</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../threads/index.html">Threads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../watchers/index.html">Watchers</a></li>
</ul>


<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014, russelln.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.2.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.6.1</a>
      
      |
      <a href="../../_sources/connections/api/apetools.connections.sshconnection.SSHClient.txt"
          rel="nofollow">Page source</a></li>
    </div>

    

    
  </body>
</html>